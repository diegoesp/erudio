<!-- HEAD SECTION -->
<% content_for :head do %>
  <script>
  
    app.search.teachers = <%=@teachers_json.html_safe%>;

    // Initialize the js for this particular page when the DOM is ready.
    $(document).ready(function() {
      app.search.initialize();
    });
  
  </script>

<% end %>

<% content_for :debug_box do %>
  <div id="debuggingBox">
    <label style="color: grey;">Debugging Box</label> </br>
    <br/>
    <a href="<%= url_for(:action => 'home', :controller => 'teachers') %>">Home Page</a> </br>
  </div>
<% end %>

<% content_for :page_id do %>
  "search_page"
<% end %>

<section id="main_content">

      <section id="teacherList">
      </section>
  
      <section id="filters">
        <div class="filterHeaderRowContainer">
          <div class="filterRowLeftCommon filterHeaderLeftCorner"></div>
          <div class="filterRowMiddleCommon filterHeaderLeftMiddle"></div>
          <div class="filterRowRightCommon filterHeaderRightCorner"></div>
          <div class="filterHeaderTitle">Filtrar Resultados</div>
        </div>
  
        <div class="filterChildRowContainerCommon">
          <div class="filterRowLeftCommon filterOddRowLeft"></div>
          <div class="filterRowMiddleCommon filterOddRowMiddle"></div>
          <div class="filterRowRightCommon filterOddRowRight"></div>
          <div class="filterOddRowContent">
            <div style="float: left;">Zona</div>
            <div class="hasTooltipsy" title="Agrega zonas aledañas a las que seleccionaste" style="float: right;">
              (TBD)
            </div>
          </div>
        </div>
  
        <div class="filterChildRowContainerCommon">
          <div class="filterRowLeftCommon filterEvenRowLeft"></div>
          <div class="filterRowMiddleCommon filterEvenRowMiddle"></div>
          <div class="filterRowRightCommon filterEvenRowRight"></div>
          <div class="filterEvenRowContent">
            <div style="float: left;">Telefono</div>
            <div class="hasTooltipsy" title="¿Solo mostrar profesores que pusieron a disposición un numero telefónico para contactarlos?" style="float: right;">
              <div class="sweetCheckbox" title="must_have_phone"></div>
            </div>
          </div>
        </div>
  
        <div class="filterChildRowContainerCommon">
          <div class="filterRowLeftCommon filterOddRowLeft"></div>
          <div class="filterRowMiddleCommon filterOddRowMiddle"></div>
          <div class="filterRowRightCommon filterOddRowRight"></div>
          <div class="filterOddRowContent">
            <div style="float: left;">E-Mail</div>
            <div class="hasTooltipsy" title="¿Solo mostrar profesores que pusieron a disposición un correo electrónico para contactarlos?" class="hasTooltipsy" style="float: right;">
              <div class="sweetCheckbox" title="must_have_email"></div>
            </div>
          </div>
        </div>
  
        <div class="filterChildRowContainerCommon">
          <div class="filterRowLeftCommon filterOddRowLeft"></div>
          <div class="filterRowMiddleCommon filterOddRowMiddle"></div>
          <div class="filterRowRightCommon filterOddRowRight"></div>
          <div class="filterOddRowContent">
            <div style="float: left;">Precio</div>
            <div class="hasTooltipsy" title="¿Solo mostrar profesores que muestran el precio por hora para su clase?" style="float: right;">
              <div class="sweetCheckbox" title="must_have_price"></div>
            </div>
          </div>
        </div>
        
      </section>

</section>

<script id="searchTemplate" type="text/template">

  {[ _.each(data, function(result, index) { ]}

    {[ classValue = index%2 === 0 ? "teacherListOdd" : "teacherListEven"; ]}

    <div class="teacherList {{ classValue }}">

      <img src="/avatars/{{ result.avatar }}" class="resultThumbnail" alt="" />

      <div class="reputationBox">
        {[ _.each([1,2,3,4,5], function(index) {
          classValue = index <= result.rating ? "teacherReputationYellowStar" : "teacherReputationBlackStar";]}

          <span class="{{ classValue }}"></span>
        {[ }); ]}

      </div>

      <div class="detailsSection">

        <div class="teacherName">
          {{ result.first_name }} {{ result.last_name }}
        </div>

        <div class="teacherDescription">
          {{ result.description }}
        </div>

        <div class="tagsSection">

          {[ _.each(result.professorships, function(professorship) {]}
              <div class="tagContainer">
                <div class="tagLeftBg"></div>
                <div class="tagMiddleBg">
                  <span class="tagText">
                    {{professorship.activity.name}}
                  </span>
                </div>
                <div class="tagRightBg"></div>
              </div>
          {[ }); ]}
        </div>

        <div class="showDetails"></div>

      </div>
    </div>
  {[ }); ]}
</script>